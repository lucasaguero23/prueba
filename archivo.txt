#!/bin/bash

echo "üõ†Ô∏è Instalando Brave Browser de forma segura en Kali..."

# Paso 1: Limpiar posibles instalaciones anteriores
sudo rm -f /etc/apt/sources.list.d/brave-browser-release.list
sudo rm -f /etc/apt/keyrings/brave-browser-archive-keyring.gpg
sudo rm -f /etc/apt/keyrings/brave-browser.gpg

# Paso 2: Crear directorio de claves si no existe
sudo mkdir -p /etc/apt/keyrings

# Paso 3: Descargar la clave GPG actual de Brave y guardarla correctamente
curl -fsSL https://brave.com/signing-keys/brave-browser-release.gpg | sudo gpg --dearmor -o /etc/apt/keyrings/brave-browser.gpg

# Paso 4: Agregar el repositorio firmado de Brave
echo "deb [signed-by=/etc/apt/keyrings/brave-browser.gpg] https://brave-browser-apt-release.s3.brave.com/ stable main" | sudo tee /etc/apt/sources.list.d/brave-browser-release.list

# Paso 5: Actualizar e instalar Brave
sudo apt update
sudo apt install brave-browser -y

echo "‚úÖ Brave Browser instalado correctamente. Ejecutalo con: brave-browser"
